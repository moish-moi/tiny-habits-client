<div class="habits-container" *ngIf="auth.isLoggedIn(); else notLogged">
  <h2>Your Habits ğŸŒ¼</h2>

  <div *ngIf="loading" class="spinner">Loading habits...</div>

  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="!loading && !error && habits.length === 0" class="empty">
    No habits yet â€” create your first one below ğŸŒ±
  </div>

  <ul *ngIf="!loading && habits.length > 0">
    <li *ngFor="let h of habits">
      <span [style.color]="h.color">{{ h.title }}</span>
      <button (click)="checkin(h)">âœ…</button>
      <span class="streak">ğŸ”¥ {{ h.streak }}</span>
    </li>
  </ul>

  <form (ngSubmit)="addHabit()">
    <input type="text" [(ngModel)]="newTitle" name="title" placeholder="New habit title" required>
    <input type="color" [(ngModel)]="newColor" name="color">
    <button type="submit">Add Habit</button>
  </form>
</div>

<ng-template #notLogged>
  <p>Please login to view your habits.</p>
</ng-template>
